<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>miniply::PLYReader class | pcstream</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">pcstream</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li>
              <a href="pages.html">Pages</a>
              <ol>
                <li><a href="about.html">About</a></li>
              </ol>
            </li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="2">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceminiply.html">miniply</a>::<wbr/></span>PLYReader <span class="m-thin">class</span>
          <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="miniply_8h.html">&lt;miniply/miniply.h&gt;</a></div>
        </h1>
        <p><span></span></p>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt id="aaa028f1b1ab136e100e812e3f4e9aeb8">
              <span class="m-doc-wrap-bumper"><a href="#aaa028f1b1ab136e100e812e3f4e9aeb8" class="m-doc-self">PLYReader</a>(</span><span class="m-doc-wrap">const char* filename)</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a0767b81443bd3af3cbd3b382f9952d16">
              <span class="m-doc-wrap-bumper"><a href="#a0767b81443bd3af3cbd3b382f9952d16" class="m-doc-self">~PLYReader</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd><span></span></dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt id="ada837591e4f063d48f6edaa754981a4c">
              <span class="m-doc-wrap-bumper">auto <a href="#ada837591e4f063d48f6edaa754981a4c" class="m-doc-self">valid</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a82366c40f8779bf12dbcbe3c4a22ae36">
              <span class="m-doc-wrap-bumper">auto <a href="#a82366c40f8779bf12dbcbe3c4a22ae36" class="m-doc-self">has_element</a>(</span><span class="m-doc-wrap">) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a13bf1a5ab6c1547622af0729f707c52d">
              <span class="m-doc-wrap-bumper">auto <a href="#a13bf1a5ab6c1547622af0729f707c52d" class="m-doc-self">element</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="structminiply_1_1PLYElement.html" class="m-doc">PLYElement</a>*</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a45601e8a5e26db2204ad1ac77ee915fd">
              <span class="m-doc-wrap-bumper">auto <a href="#a45601e8a5e26db2204ad1ac77ee915fd" class="m-doc-self">load_element</a>(</span><span class="m-doc-wrap">) -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a5147666a39aa10c4d5e6efe00147c9bf">
              <span class="m-doc-wrap-bumper">void <a href="#a5147666a39aa10c4d5e6efe00147c9bf" class="m-doc-self">next_element</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd><span></span></dd>
            <dt id="aa1018fbf576525f3df630ff0cf7dd490">
              <span class="m-doc-wrap-bumper">auto <a href="#aa1018fbf576525f3df630ff0cf7dd490" class="m-doc-self">file_type</a>(</span><span class="m-doc-wrap">) const -&gt; <a href="namespaceminiply.html#a94172296dd87db09243254166dc8ee0c" class="m-doc">PLYFileType</a></span>
            </dt>
            <dd><span></span></dd>
            <dt id="a60a487035ec2d0eea2e5161704646782">
              <span class="m-doc-wrap-bumper">auto <a href="#a60a487035ec2d0eea2e5161704646782" class="m-doc-self">version_major</a>(</span><span class="m-doc-wrap">) const -&gt; int</span>
            </dt>
            <dd><span></span></dd>
            <dt id="aa8012c12ecb83b0a4f8bb903a20c0c4c">
              <span class="m-doc-wrap-bumper">auto <a href="#aa8012c12ecb83b0a4f8bb903a20c0c4c" class="m-doc-self">version_minor</a>(</span><span class="m-doc-wrap">) const -&gt; int</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a3a515f398a837453f92c8f295d9364c9">
              <span class="m-doc-wrap-bumper">auto <a href="#a3a515f398a837453f92c8f295d9364c9" class="m-doc-self">num_elements</a>(</span><span class="m-doc-wrap">) const -&gt; uint32_t</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a0ab4e6fe445f685469886b3483b92017">
              <span class="m-doc-wrap-bumper">auto <a href="#a0ab4e6fe445f685469886b3483b92017" class="m-doc-self">find_element</a>(</span><span class="m-doc-wrap">const char* name) const -&gt; uint32_t</span>
            </dt>
            <dd><span></span></dd>
            <dt id="aa2d6e194ef3010e2384f5fb6ed95bc16">
              <span class="m-doc-wrap-bumper">auto <a href="#aa2d6e194ef3010e2384f5fb6ed95bc16" class="m-doc-self">get_element</a>(</span><span class="m-doc-wrap">uint32_t idx) -&gt; <a href="structminiply_1_1PLYElement.html" class="m-doc">PLYElement</a>*</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a5a7f6084cb54ccbb47f2b5e952c6a73c">
              <span class="m-doc-wrap-bumper">auto <a href="#a5a7f6084cb54ccbb47f2b5e952c6a73c" class="m-doc-self">element_is</a>(</span><span class="m-doc-wrap">const char* name) const -&gt; bool</span>
            </dt>
            <dd>Check whether the current element has the given name.</dd>
            <dt id="a45de18e74bbd7a4925c19279b1290985">
              <span class="m-doc-wrap-bumper">auto <a href="#a45de18e74bbd7a4925c19279b1290985" class="m-doc-self">num_rows</a>(</span><span class="m-doc-wrap">) const -&gt; uint32_t</span>
            </dt>
            <dd>Number of rows in the current element.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a31bffce6e8067881984b7d1c8bbcf8e3" class="m-doc">find_property</a>(</span><span class="m-doc-wrap">const char* name) const -&gt; uint32_t</span>
            </dt>
            <dd></dd>
            <dt id="ab6f68be0808073bcb0f4321cc1718d44">
              <span class="m-doc-wrap-bumper">auto <a href="#ab6f68be0808073bcb0f4321cc1718d44" class="m-doc-self">find_properties</a>(</span><span class="m-doc-wrap">uint32_t propIdxs[],
              uint32_t numIdxs,
              ...) const -&gt; bool</span>
            </dt>
            <dd>Equivalent to calling <code>find_properties</code> on the current element.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a567b0c1b1aa8ee95da31305f8a0703dc" class="m-doc">extract_properties</a>(</span><span class="m-doc-wrap">const uint32_t propIdxs[],
              uint32_t numProps,
              <a href="namespaceminiply.html#a282856f3225b4c51be9c8baa4258daee" class="m-doc">PLYPropertyType</a> destType,
              void* dest) const -&gt; bool</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#acb9146f0176d6d12701f1e71126a4ee2" class="m-doc">extract_properties_with_stride</a>(</span><span class="m-doc-wrap">const uint32_t propIdxs[],
              uint32_t numProps,
              <a href="namespaceminiply.html#a282856f3225b4c51be9c8baa4258daee" class="m-doc">PLYPropertyType</a> destType,
              void* dest,
              uint32_t destStride) const -&gt; bool</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a6c3a307099823961ebb5fe6381d61a9c" class="m-doc">get_list_counts</a>(</span><span class="m-doc-wrap">uint32_t propIdx) const -&gt; const uint32_t*</span>
            </dt>
            <dd></dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a8711740c8502ca48ff997df0d24e2b42" class="m-doc">sum_of_list_counts</a>(</span><span class="m-doc-wrap">uint32_t propIdx) const -&gt; uint32_t</span>
            </dt>
            <dd></dd>
            <dt id="a9c1d4d6175cb370232f225df3f2453b4">
              <span class="m-doc-wrap-bumper">auto <a href="#a9c1d4d6175cb370232f225df3f2453b4" class="m-doc-self">get_list_data</a>(</span><span class="m-doc-wrap">uint32_t propIdx) const -&gt; const uint8_t*</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a2c71e492c56ebee22a9011c76cad0ae9">
              <span class="m-doc-wrap-bumper">auto <a href="#a2c71e492c56ebee22a9011c76cad0ae9" class="m-doc-self">extract_list_property</a>(</span><span class="m-doc-wrap">uint32_t propIdx,
              <a href="namespaceminiply.html#a282856f3225b4c51be9c8baa4258daee" class="m-doc">PLYPropertyType</a> destType,
              void* dest) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="acbb7c69009a67eea41189fadc9786b36">
              <span class="m-doc-wrap-bumper">auto <a href="#acbb7c69009a67eea41189fadc9786b36" class="m-doc-self">num_triangles</a>(</span><span class="m-doc-wrap">uint32_t propIdx) const -&gt; uint32_t</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a61b2399d231ea55e8fc1cf75f58b9b7f">
              <span class="m-doc-wrap-bumper">auto <a href="#a61b2399d231ea55e8fc1cf75f58b9b7f" class="m-doc-self">requires_triangulation</a>(</span><span class="m-doc-wrap">uint32_t propIdx) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="aa51b5c6344acb425b1b5d36c98a8f698">
              <span class="m-doc-wrap-bumper">auto <a href="#aa51b5c6344acb425b1b5d36c98a8f698" class="m-doc-self">extract_triangles</a>(</span><span class="m-doc-wrap">uint32_t propIdx,
              const float pos[],
              uint32_t numVerts,
              <a href="namespaceminiply.html#a282856f3225b4c51be9c8baa4258daee" class="m-doc">PLYPropertyType</a> destType,
              void* dest) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="afa06fc5c6d73ee0e4074b38392c74a62">
              <span class="m-doc-wrap-bumper">auto <a href="#afa06fc5c6d73ee0e4074b38392c74a62" class="m-doc-self">find_pos</a>(</span><span class="m-doc-wrap">uint32_t propIdxs[3]) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="ad9483def5341c12c751c7fbf73c4a115">
              <span class="m-doc-wrap-bumper">auto <a href="#ad9483def5341c12c751c7fbf73c4a115" class="m-doc-self">find_normal</a>(</span><span class="m-doc-wrap">uint32_t propIdxs[3]) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a3b5ec87cdab33318d088e3eee03332c4">
              <span class="m-doc-wrap-bumper">auto <a href="#a3b5ec87cdab33318d088e3eee03332c4" class="m-doc-self">find_texcoord</a>(</span><span class="m-doc-wrap">uint32_t propIdxs[2]) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a1762f902e785c821ba0b58de743a5083">
              <span class="m-doc-wrap-bumper">auto <a href="#a1762f902e785c821ba0b58de743a5083" class="m-doc-self">find_color</a>(</span><span class="m-doc-wrap">uint32_t propIdxs[3]) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
            <dt id="a169d064aecfcf42796619e66e4319fc7">
              <span class="m-doc-wrap-bumper">auto <a href="#a169d064aecfcf42796619e66e4319fc7" class="m-doc-self">find_indices</a>(</span><span class="m-doc-wrap">uint32_t propIdxs[1]) const -&gt; bool</span>
            </dt>
            <dd><span></span></dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a31bffce6e8067881984b7d1c8bbcf8e3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t miniply::<wbr />PLYReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a31bffce6e8067881984b7d1c8bbcf8e3" class="m-doc-self">find_property</a>(</span><span class="m-doc-wrap">const char* name) const</span></span>
            </h3>
<p>Returns the index for the named property in the current element, or <code>kInvalidIndex</code> if it can&#x27;t be found.</p>
          </div></section>
          <section class="m-doc-details" id="a567b0c1b1aa8ee95da31305f8a0703dc"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool miniply::<wbr />PLYReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a567b0c1b1aa8ee95da31305f8a0703dc" class="m-doc-self">extract_properties</a>(</span><span class="m-doc-wrap">const uint32_t propIdxs[],
              uint32_t numProps,
              <a href="namespaceminiply.html#a282856f3225b4c51be9c8baa4258daee" class="m-doc">PLYPropertyType</a> destType,
              void* dest) const</span></span>
            </h3>
<p>Copy the data for the specified properties into <code>dest</code>, which must be an array with at least enough space to hold all of the extracted column data. <code>propIdxs</code> is an array containing the indexes of the properties to copy; it has <code>numProps</code> elements.</p><p><code>destType</code> specifies the data type for values stored in <code>dest</code>. All property values will be converted to this type if necessary.</p><p>This function does some checks up front to pick the most efficient code path for extracting the data. It considers: (a) whether any data conversion is required. (b) whether all property values to be extracted are in contiguous memory locations for any given item. (c) whether the data for all rows is contiguous in memory. In the best case it reduces to a single memcpy call. In the worst case we must iterate over all values to be copied, applying type conversions as we go.</p><p>Note that this function does not handle list-valued properties. Use <code>extract_list_column()</code> for those instead.</p>
          </div></section>
          <section class="m-doc-details" id="acb9146f0176d6d12701f1e71126a4ee2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool miniply::<wbr />PLYReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acb9146f0176d6d12701f1e71126a4ee2" class="m-doc-self">extract_properties_with_stride</a>(</span><span class="m-doc-wrap">const uint32_t propIdxs[],
              uint32_t numProps,
              <a href="namespaceminiply.html#a282856f3225b4c51be9c8baa4258daee" class="m-doc">PLYPropertyType</a> destType,
              void* dest,
              uint32_t destStride) const</span></span>
            </h3>
<p>The same as <code>extract_properties</code>, but does not require rows in the destination to be contiguous: <code>destStride</code> is the number of bytes between the start of one row and the start of the next row in the destination memory.</p><p>This is useful for when your destination is an array of structs where you cannot extract all of the properties with a single <code>extract_properties</code> call, e.g. when not all of the struct members have the same type, or when the data you&#x27;re extracting is only a subset of the columns in each destination row.</p><p>This is a tiny bit slower than <code>extract_properties</code>. Wherever possible you should use <code>extract_properties</code> in preference to this method.</p>
          </div></section>
          <section class="m-doc-details" id="a6c3a307099823961ebb5fe6381d61a9c"><div>
            <h3>
              <span class="m-doc-wrap-bumper">const uint32_t* miniply::<wbr />PLYReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6c3a307099823961ebb5fe6381d61a9c" class="m-doc-self">get_list_counts</a>(</span><span class="m-doc-wrap">uint32_t propIdx) const</span></span>
            </h3>
<p>Get the array of item counts for a list property. Entry <code>i</code> in this array is the number of items in the <code>i</code>th list.</p>
          </div></section>
          <section class="m-doc-details" id="a8711740c8502ca48ff997df0d24e2b42"><div>
            <h3>
              <span class="m-doc-wrap-bumper">uint32_t miniply::<wbr />PLYReader::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a8711740c8502ca48ff997df0d24e2b42" class="m-doc-self">sum_of_list_counts</a>(</span><span class="m-doc-wrap">uint32_t propIdx) const</span></span>
            </h3>
<p>Get the sum of all item counts for a list property. This can be useful to determine how big a destination array you&#x27;ll need for a call to <code>extract_list_property</code>. It&#x27;s equivalent to summing up all the values in the array returned by <code>get_list_counts</code>, but faster.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>pcstream. Created with <a href="https://doxygen.org/">Doxygen</a> 1.9.8 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
